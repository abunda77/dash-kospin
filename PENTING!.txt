# Jalankan scheduler (development)
php artisan schedule:work

# Atau tambahkan ke crontab (production)
* * * * * cd /path-to-project && php artisan schedule:run >> /dev/null 2>&1

protected $signature = 'tabungan:hitung-bunga
                          {--check-previous : Cek dan hitung bunga bulan-bulan sebelumnya}
                          {--check-duplikat : Cek dan koreksi bunga duplikat}';


php artisan tabungan:hitung-bunga --all
0 0 1 * * cd /path/to/project && php artisan tabungan:hitung-bunga --all
* * * * * cd /path/to/project && php artisan schedule:run >> /dev/null 2>&1

# Untuk menghapus duplikat perhitungan bunga
php artisan tabungan:hitung-bunga --hapus-duplikat

# Untuk mode interactives (pilihan manual)
php artisan tabungan:hitung-bunga

mysqldump -u kosp_kospin –pkospin123123 kosp_kospin > backup_kosp_kospin.sql
mysqldump -u kosp_kospin –p kosp_kospin -h localhost > backup_kosp_kospin.sql
mysql -u kosp_kospin -pkospin123123 kosp_kospin < mysql-kospin.sql
mysql -u prod_kospin -pkospin123123 prod_kospin < mysql-kospin.sql
mysql -u prod_kospin -pkospin123123 prod_kospin < kosp_kospin.sql

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=kosp_kospin
DB_USERNAME=kosp_kospin
DB_PASSWORD=kospin123123

composer install --no-dev --optimize-autoloader --ignore-platform-reqs
git config --global alias.graph "log --graph --oneline --decorate --all"



Plugin harus pasang :
https://filamentphp.com/plugins/3x1io-tomato-menus
https://filamentphp.com/plugins/3x1io-tomato-artisan --done
https://filamentphp.com/plugins/3x1io-tomato-logger --done
https://filamentphp.com/plugins/rmsramos-activitylog -- done


php artisan octane:frankenphp --host=46.102.156.214  --port=8005
php artisan octane:frankenphp --host=46.102.156.214  --port=8111
php artisan octane:frankenphp --host=46.102.156.214  --port=8112


php artisan octane:frankenphp --host=193.219.97.148  --port=8001


wget https://github.com/dunglas/frankenphp/releases/download/v1.3.3/frankenphp-linux-x86_64
wget https://github.com/dunglas/frankenphp/releases/download/vX.X.X/frankenphp-linux-x86_64
wget https://github.com/dunglas/frankenphp/releases/download/v1.2.5/frankenphp-linux-x86_64
mv frankenphp-linux-x86_64 /usr/local/bin/frankenphp
chmod +x /usr/local/bin/frankenphp

php artisan octane:frankenphp --host=46.102.156.214  --port=8111
php artisan octane:frankenphp --host=193.219.97.148  --port=8001

wrk -c100 -d5 -t12 http://46.102.156.214:8111
wrk -c100 -d5 -t12 http://dashboard.kospinsinaraartha.co.id/admin/login
wrk -c100 -d5 -t12 https://webhook.kospinsinaraartha.co.id


sudo chown -R dashk8300:dashk8300 /home/dash.kospinsinaraartha.co.id/public_html/storage
sudo chown -R dashk8300:dashk8300 /home/dash.kospinsinaraartha.co.id/public_html/bootstrap/cache
sudo chmod -R 775 /home/dash.kospinsinaraartha.co.id/public_html/storage
sudo chmod -R 775 /home/dash.kospinsinaraartha.co.id/public_html/bootstrap/cache

bERSIHAKAN CACHE REDIS :
redis-cli FLUSHALL
redis-cli FLUSHDB

PR : api mutasi by range custom


{{-- Gunakan URL absolut --}}
img src="{{ config('app.url') }}/images/logo_koperasi.jpg" alt="Logo">

<x-mail::header>
   <img src="{{ asset('images/logo_koperasi.jpg') }}" alt="Logo" style="height: 50px;">
/x-mail::header>




[Unit]
Description=Laravel Queue Worker Production
After=network.target

[Service]
Environment="APP_ENV=local"
Environment="DB_CONNECTION=mysql"
EnvironmentFile=/home/production.kospinsinaraartha.co.id/dash-kospin/.env
ExecStart=/usr/local/lsws/lsphp83/bin/php /home/production.kospinsinaraartha.co.id/dash-kospin/artisan queue:work --tries=3

[Install]
WantedBy=multi-user.target

===


[Unit]
Description=Laravel Queue Worker Production
After=network.target

[Service]
Environment="APP_ENV=local"
Environment="DB_CONNECTION=mysql"
EnvironmentFile=/home/production.kospinsinaraartha.co.id/dash-kospin/.env
ExecStart=/usr/local/lsws/lsphp83/bin/php /home/production.kospinsinaraartha.co.id/dash-kospin/artisan queue:work --tries=3

[Install]
WantedBy=multi-user.target



=== Laravel Schedule Production ===

[Unit]
Description=Laravel Schedule Worker Production
After=network.target

[Service]
Environment="APP_ENV=local"
Environment="DB_CONNECTION=mysql"
EnvironmentFile=/home/production.kospinsinaraartha.co.id/dash-kospin/.env
ExecStart=/usr/local/lsws/lsphp83/bin/php /home/production.kospinsinaraartha.co.id/dash-kospin/artisan schedule:work

[Install]
WantedBy=multi-user.target


=== Laravel Schedule Staging ===
[Unit]
Description=Laravel Schedule Worker Staging
After=network.target

[Service]
Environment="APP_ENV=local"
Environment="DB_CONNECTION=mysql"
EnvironmentFile=/home/dash.kospinsinaraartha.co.id/public_html/.env
ExecStart=/usr/local/lsws/lsphp83/bin/php /home/dash.kospinsinaraartha.co.id/public_html/artisan schedule:work

[Install]
WantedBy=multi-user.target

